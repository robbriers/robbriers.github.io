<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Code on Rob Briers</title>
    <link>https://robbriers.github.io/tags/code/index.xml</link>
    <description>Recent content in Code on Rob Briers</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>&amp;copy; 2017 Rob Briers</copyright>
    <atom:link href="/tags/code/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Is research becoming more collaborative?</title>
      <link>https://robbriers.github.io/post/is-research-becoming-more-collaborative/</link>
      <pubDate>Mon, 06 Mar 2017 00:00:00 +0000</pubDate>
      
      <guid>https://robbriers.github.io/post/is-research-becoming-more-collaborative/</guid>
      <description>&lt;p&gt;I had an interesting discussion recently regarding the extent to which research is becoming a more collaborative enterprise. Gone is the image of the lone pioneer, locked away in the lab and wrestling with the world until the key advance is reached (Health and Safety would have a field day with this anyway!). With the ease of communication, sharing of data and analyses and other developments, it is far from suprising that there have been a growth in the extent to which collaboration has become the norm (see also evidence from Jonathan Adams in &lt;a href=&#34;http://www.nature.com/nature/journal/v490/n7420/full/490335a.html&#34;&gt;Nature&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;On a more personal level, just thinking back over the time that I have been involved in research (which shockingly has now been 20 years!), I had the impression that the extent to which I have collaborated with a range of colleagues has increased over time. As a PhD student, my collaboration in terms of publication was largely limited to my supervisor, although I suspect that nowadays the range of individuals that students collaborate with is getting wider as well). Moving on to a post-doc, my collaborators started to widen, both within the project that I was employed on, and a number of ‘side-projects’ that resulted in publications too. Since taking up a full-time position in academia, the opportunities for collaboration and research are gradually broadened as well, with opportunities for much more diverse (some might say too diverse, showing a lack of focus!) projects, interactions with research students and research staff both internal and external. This more personal trajectory is slightly different from broader trends in research but I suspect is also a fairly common pattern for staff in academic institutions.&lt;/p&gt;
&lt;p&gt;Anyway, never one to let an impression get in the way of doing some number crunching, I decided to do some analysis of temporal change in my publication coauthorship, as a proxy for collaboration. I could have used the number of institutions involved as an alternative, but that underweights internal collaboration within my institution, which has been signficant for me at least.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# analysis of changes in number of co-authors over time, based on my publication history

# load the libraries needed, we will use viridis to colour the plot symbols
library(ggplot2)
library(viridis)

# read in the data direct from the Github repo - you can do it too if you want!
auths&amp;lt;-read.csv(&amp;#39;https://raw.githubusercontent.com/robbriers/authors/master/coauthors.csv&amp;#39;, header=TRUE)

# plot the data to look at the trend, using poisson GLM for fitted line
p1 &amp;lt;- ggplot(auths, aes(x = year, y = authors, colour = authors)) +
  geom_jitter(size=1.5) +
  scale_color_viridis(end = 0.80) +
  labs(title = &amp;quot;Change in number of co-authors over time&amp;quot;,
       x = &amp;quot;year of publication&amp;quot;,
       y = &amp;quot;number of co-authors&amp;quot;) +
  geom_smooth(method = &amp;quot;glm&amp;quot;, method.args = list(family = &amp;quot;poisson&amp;quot;), se = TRUE) +
  theme_bw() +
  annotate(&amp;quot;text&amp;quot;, x=2006, y=14, label=&amp;quot;Spot the multi-author workshop paper&amp;quot;) +
  theme(legend.position=&amp;quot;none&amp;quot;)

# show the plot
p1&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://robbriers.github.io/post/2017-03-06-is-research-becoming-more-collaborative_files/figure-html/unnamed-chunk-1-1.png&#34; width=&#34;672&#34; /&gt; So a definite upward trend in collaboration over time. To be more specific, we can fit the poisson model directly.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# fit a poisson glm to the pattern of change, so we can make some predictions
auth.m1&amp;lt;-glm(authors~year, data=auths, family=&amp;quot;poisson&amp;quot;)
summary(auth.m1)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 
## Call:
## glm(formula = authors ~ year, family = &amp;quot;poisson&amp;quot;, data = auths)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -2.2282  -0.6275  -0.3446   0.3353   4.8714  
## 
## Coefficients:
##               Estimate Std. Error z value Pr(&amp;gt;|z|)    
## (Intercept) -126.86415   33.11267  -3.831 0.000127 ***
## year           0.06380    0.01649   3.870 0.000109 ***
## ---
## Signif. codes:  0 &amp;#39;***&amp;#39; 0.001 &amp;#39;**&amp;#39; 0.01 &amp;#39;*&amp;#39; 0.05 &amp;#39;.&amp;#39; 0.1 &amp;#39; &amp;#39; 1
## 
## (Dispersion parameter for poisson family taken to be 1)
## 
##     Null deviance: 59.277  on 34  degrees of freedom
## Residual deviance: 44.527  on 33  degrees of freedom
## AIC: 149.9
## 
## Number of Fisher Scoring iterations: 5&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# so how many co-authors will I have in 2040, assuming I make it?
exp(predict(auth.m1, data.frame(year=2040)))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##        1 
## 26.86821&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Wow, really looking forward to the ‘Track Changes’ on that manuscript!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>A new website</title>
      <link>https://robbriers.github.io/post/2017-03-01-a-new-website/</link>
      <pubDate>Wed, 01 Mar 2017 00:00:00 +0000</pubDate>
      
      <guid>https://robbriers.github.io/post/2017-03-01-a-new-website/</guid>
      <description>&lt;p&gt;So I finally got round to creating a new website. It has taken a fair while, as there is always something more pressing to do. The world of websites has moved on somewhat since my last homestyle HTML affair. I experimented with &lt;a href=&#34;https://www.wordpress.com&#34;&gt;Wordpress&lt;/a&gt; for a while, but was not keen on the limitations imposed. In the meantime a range of nice static website generators appeared.&lt;/p&gt;
&lt;p&gt;As the site is hosted on Github pages, I tried out &lt;a href=&#34;http://jekyllrb.com/&#34;&gt;Jekyll&lt;/a&gt;, but at the same time I came across the &lt;a href=&#34;https://github.com/blogdown/blogdown&#34;&gt;&lt;code&gt;blogdown&lt;/code&gt;&lt;/a&gt; package for R, which is based on the &lt;a href=&#34;https://gohugo.io/&#34;&gt;Hugo&lt;/a&gt; static site generator. This had the double advantage of allowing me to write in Markdown or Rmarkdown, simplifying content generation, and also being able to manage content within &lt;a href=&#34;https://www.rstudio.com&#34;&gt;RStudio&lt;/a&gt;, where I do all my data analysis and graphics anyway. So not only is writing content easy, I can also easily add in &lt;code&gt;R&lt;/code&gt; code and plots.&lt;/p&gt;
&lt;p&gt;To demonstrate, let’s do a quick bit of plotting…&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# load up the classic &amp;#39;mite&amp;#39; data from the vegan package and ggplot2
library(vegan)
library(ggplot2)
data(mite)
data(mite.xy)

# bind the x and y coordinates with the TVEL abundance data
df&amp;lt;-cbind.data.frame(mite$TVEL, mite.xy$x, mite.xy$y)

# rename the columns
colnames(df)&amp;lt;-c(&amp;quot;TVEL&amp;quot;, &amp;quot;x.coord&amp;quot;, &amp;quot;y.coord&amp;quot;)

# produce a simple bubble plot of the abundances across space
ggplot(df, aes(x=x.coord, y=y.coord)) +
  geom_point(shape=1,color=&amp;quot;red&amp;quot;, size=df$TVEL) +
  theme_bw()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://robbriers.github.io/post/2017-03-01-a-new-website_files/figure-html/unnamed-chunk-1-1.png&#34; width=&#34;672&#34; /&gt; Nice!&lt;/p&gt;
&lt;p&gt;Documentation for the package is a bit sparse, but I found some really useful advice at &lt;a href=&#34;https://proquestionasker.github.io/blog/Making_Site/&#34; class=&#34;uri&#34;&gt;https://proquestionasker.github.io/blog/Making_Site/&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;There are a huge range of site themes available for Hugo, which you can install using &lt;code&gt;blogdown&lt;/code&gt;. I went with the &lt;a href=&#34;https://github.com/gcushen/hugo-academic&#34;&gt;Academic Theme&lt;/a&gt; and subsequently learnt how little I know about CSS, let alone YAML/TOML! Still, I got more or less sorted in the end. Have a look around - it’s still a bit of a work in progress, but the majority of things work now.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Coding</title>
      <link>https://robbriers.github.io/project/coding/</link>
      <pubDate>Wed, 27 Apr 2016 00:00:00 +0000</pubDate>
      
      <guid>https://robbriers.github.io/project/coding/</guid>
      <description>

&lt;h3 id=&#34;r-code&#34;&gt;R code&lt;/h3&gt;

&lt;p&gt;I am the creator and maintainer of the &lt;code&gt;biotic&lt;/code&gt; package for R. This calculates a range of common UK freshwater biotic indicies. The stable version (0.1.2) can be installed from &lt;a href=&#34;https://cran.r-project.org/package=biotic&#34; target=&#34;_blank&#34;&gt;CRAN&lt;/a&gt;. I am currently starting work on version 0.2. Follow progress, request a feature, log an issue or install the development version from &lt;a href=&#34;https://github.com/robbriers/biotic&#34; target=&#34;_blank&#34;&gt;Github&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id=&#34;python&#34;&gt;Python&lt;/h3&gt;

&lt;p&gt;I use GIS in a lot of my work, mainly &lt;a href=&#34;http://www.esri.com/arcgis/about-arcgis&#34; target=&#34;_blank&#34;&gt;ArcGIS&lt;/a&gt; for my sins, but I am trying to wean myself off and move over to a combination of &lt;a href=&#34;https://www.qgis.org/&#34; target=&#34;_blank&#34;&gt;QGIS&lt;/a&gt; and &lt;a href=&#34;https://www.r-project.org/&#34; target=&#34;_blank&#34;&gt;R&lt;/a&gt;. I have used Python to develop some scripts and tools for various analyses, such as randomisation tests to determine the extent of clustering of marine invasive species around ports, import of data from the National Biodiversity Network (before they improved their output data format) and top-of-the atmosphere correction of Landsat images. Most of this is either too hacky to release or has been superceded by other tools. If I ever get round to sorting it out, then it will be made available on &lt;a href=&#34;https://github.com/robbriers&#34; target=&#34;_blank&#34;&gt;Github&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id=&#34;visual-basic-for-applications&#34;&gt;Visual Basic for Applications&lt;/h3&gt;

&lt;p&gt;I have developed a few add-ins for Excel using VBA. You can download these (zipped add-in files with outline instructions) below:&lt;/p&gt;

&lt;p&gt;&lt;i class=&#34;fa fa-code&#34;&gt;&lt;/i&gt; &lt;a href=&#34;https://robbriers.github.io/code/Depletion.zip&#34;&gt;Depletion.xla&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This calculates population estimates using the Carle &amp;amp; Strube and Zippen estimators&lt;/p&gt;

&lt;p&gt;&lt;i class=&#34;fa fa-code&#34;&gt;&lt;/i&gt; &lt;a href=&#34;https://robbriers.github.io/code/BMWP.zip&#34;&gt;BMWP.xla&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This calculates BMWP and associated indices for UK freshwater invertebrate samples. Now superceded by the &lt;code&gt;biotic&lt;/code&gt; package above, but available for posterity!&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
